<mvc:View controllerName="navigationbar.controller.Navbar"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:tnt="sap.tnt"
    xmlns:l="sap.ui.layout"
    xmlns:viz="sap.viz.ui5.controls"
    xmlns:viz.data="sap.viz.ui5.data"
    xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
    xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds" displayBlock="true" height="100%">

    <tnt:ToolPage id="toolPage">

        <!-- ================= HEADER ================= -->
        <tnt:header>
            <tnt:ToolHeader>
                <Button id="sideNavigationToggleButton" icon="sap-icon://menu2" type="Transparent" press=".onSideNavButtonPress">
                    <layoutData>
                        <OverflowToolbarLayoutData priority="NeverOverflow" />
                    </layoutData>
                </Button>
                <Image src="https://ilhamsyawalm.github.io/abap-fiori/navigation3/webapp/model/sap.png" width="50px" height="50px" decorative="false">
                    <layoutData>
                        <OverflowToolbarLayoutData priority="NeverOverflow" />
                    </layoutData>
                </Image>

                <Title id="productName" text="PrÐ¾duct Name" wrapping="false">
                    <layoutData>
                        <OverflowToolbarLayoutData priority="Disappear" />
                    </layoutData>
                </Title>

                <tnt:ToolHeaderUtilitySeparator />

                <ToolbarSpacer>
                    <layoutData>
                        <OverflowToolbarLayoutData priority="NeverOverflow" minWidth="20px" />
                    </layoutData>
                </ToolbarSpacer>

                <SearchField id="searchField" width="25rem">
                    <layoutData>
                        <OverflowToolbarLayoutData priority="Low" group="1" />
                    </layoutData>
                </SearchField>

                <Button id="searchButton" icon="sap-icon://search" type="Transparent" tooltip="Search" visible="false" />

                <OverflowToolbarButton icon="sap-icon://da" text="Joule" tooltip="Joule" type="Transparent">
                    <layoutData>
                        <OverflowToolbarLayoutData group="2" />
                    </layoutData>
                </OverflowToolbarButton>

                <OverflowToolbarButton icon="sap-icon://source-code" text="Action 1" tooltip="Action 1" type="Transparent">
                    <layoutData>
                        <OverflowToolbarLayoutData group="2" />
                    </layoutData>
                </OverflowToolbarButton>

                <OverflowToolbarButton icon="sap-icon://card" text="Action 2" tooltip="Action 2" type="Transparent">
                    <layoutData>
                        <OverflowToolbarLayoutData group="2" />
                    </layoutData>
                </OverflowToolbarButton>

                <OverflowToolbarButton icon="sap-icon://action-settings" text="Settings" type="Transparent" />

                <Button icon="sap-icon://bell" type="Transparent" tooltip="Notification">
                    <layoutData>
                        <OverflowToolbarLayoutData priority="NeverOverflow" />
                    </layoutData>
                </Button>

                <OverflowToolbarButton icon="sap-icon://grid" text="My Products" tooltip="My Products" type="Transparent" />

                <Avatar src="https://ilhamsyawalm.github.io/abap-fiori/navigation3/webapp/model/GengarKecil.jpg" displaySize="XS" tooltip="Profile" press=".onAvatarPressed">
                    <layoutData>
                        <OverflowToolbarLayoutData priority="NeverOverflow" />
                    </layoutData>
                </Avatar>

                <Button text="Gengar" type="Transparent" press=".handleUserNamePress" ariaHasPopup="Menu">
                    <layoutData>
                        <OverflowToolbarLayoutData priority="NeverOverflow" />
                    </layoutData>
                </Button>

            </tnt:ToolHeader>
        </tnt:header>

        <!-- ================= SIDE NAV ================= -->
        <tnt:sideContent>
            <tnt:SideNavigation expanded="true" selectedKey="{jsonModel>/selectedKey}" itemSelect=".onItemSelect">

                <tnt:NavigationList items="{jsonModel>/navigation}">
                    <tnt:NavigationListItem text="{jsonModel>title}" icon="{jsonModel>icon}" key="{jsonModel>key}" enabled="{jsonModel>enabled}" expanded="{jsonModel>expanded}" items="{jsonModel>items}" selectable="{= ${jsonModel>items}.length > 3}">
                        <tnt:NavigationListItem text="{jsonModel>title}" key="{jsonModel>key}" enabled="{jsonModel>enabled}" />
                    </tnt:NavigationListItem>
                </tnt:NavigationList>

                <tnt:fixedItem>
                    <tnt:NavigationList items="{jsonModel>/fixedNavigation}">
                        <tnt:NavigationListItem text="{jsonModel>title}" icon="{jsonModel>icon}" design="{jsonModel>design}" selectable="{jsonModel>selectable}" ariaHasPopup="{jsonModel>ariaHasPopup}" press=".onFixedPressed" />
                    </tnt:NavigationList>
                </tnt:fixedItem>

            </tnt:SideNavigation>
        </tnt:sideContent>

        <!-- ================= MAIN CONTENT ================= -->
        <tnt:mainContents>
            <NavContainer id="pageContainer" initialPage="Project1">

                <pages>

                    <ScrollContainer id="home" height="100%" horizontal="false" vertical="true" class="sapUiContentPadding">
                        <Text text="This is the root page" />
                    </ScrollContainer>

                    <ScrollContainer id="people" height="100%" horizontal="false" vertical="true" class="sapUiContentPadding">
                        <Text text="This is the first page" />
                    </ScrollContainer>

                    <!-- <ScrollContainer id="Project1" height="100%" horizontal="false" vertical="true" class="sapUiContentPadding"> -->
                        <VBox id="Project1" width="100%" height="90%" horizontal="false" vertical="true"  fitContainer="true" class="sapUiContentPadding">

                            <smartFilterBar:SmartFilterBar id="smartFilterBar" entitySet="PoDataSet" persistencyKey="SmartFilter_Explored" useToolbar="true">
                                <smartFilterBar:controlConfiguration>
                                    <smartFilterBar:ControlConfiguration key="Ebeln" label="PO Number">
                                    </smartFilterBar:ControlConfiguration>
                                </smartFilterBar:controlConfiguration>
                            </smartFilterBar:SmartFilterBar>

                            <smartTable:SmartTable id="LineItemsSmartTable" entitySet="PoDataSet" smartFilterId="smartFilterBar" tableType="Table" enableExport="true" beforeExport="onBeforeExport" useVariantManagement="true" useTablePersonalisation="true" header="PO Detail" showRowCount="true" enableAutoBinding="true" enableAutoColumnWidth="true" height="100%" initiallyVisibleFields="Ebeln,Ebelp,Bukrs,Werks,Bsart,Ernam,Aedat,Matnr,Maktx,Menge,Netwr" />

                        </VBox>
                    <!-- </ScrollContainer> -->

                    <!-- PROJECT 2 (TABLE) -->
                    <ScrollContainer id="Project2" height="100%" horizontal="false" vertical="true" class="sapUiContentPadding">

                        <Bar>
                            <contentLeft>
                                <Input id="PONumber" placeholder="PO Number" width="20%" maxLength="10" />
                                <Input id="Material" placeholder="Material" width="20%" maxLength="40" />
                                <Input id="OrderType" placeholder="Order Type" width="20%" maxLength="4" />
                                <DatePicker id="CreateOn" width="20%" placeholder="Create Date" valueFormat="yyyy-MM-dd" displayFormat="dd-MM-yyyy" />
                                <Button text="Show data" press="onPress" />
                            </contentLeft>
                        </Bar>

                        <Table items="{output>/}">
                            <columns>
                                <Column>
                                    <Text text="PO Number" />
                                </Column>
                                <Column>
                                    <Text text="PO Item" />
                                </Column>
                                <Column>
                                    <Text text="Document Type" />
                                </Column>
                                <Column>
                                    <Text text="Created By" />
                                </Column>
                                <Column>
                                    <Text text="Created Date" />
                                </Column>
                                <Column>
                                    <Text text="Material Number" />
                                </Column>
                                <Column>
                                    <Text text="Material Description" />
                                </Column>
                            </columns>

                            <items>
                                <ColumnListItem>
                                    <cells>
                                        <Text text="{output>Ebeln}" />
                                        <Text text="{output>Ebelp}" />
                                        <Text text="{output>Bsart}" />
                                        <Text text="{output>Ernam}" />
                                        <Text text="{output>Aedat}" />
                                        <Text text="{output>Matnr}" />
                                        <Text text="{output>Maktx}" />
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>

                    </ScrollContainer>

                </pages>
            </NavContainer>
        </tnt:mainContents>

    </tnt:ToolPage>
</mvc:View>